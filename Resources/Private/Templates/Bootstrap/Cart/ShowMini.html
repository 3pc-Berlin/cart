{namespace cart=Extcode\Cart\ViewHelpers}

<f:layout name="Default"/>

<f:section name="main">
    <div id="tx-cart-minicart">
        <f:if condition="{cart.products}">
            <f:then>
                <div class="cart_product_list">
                    <f:for each="{cart.products}" as="cartProduct">
                        <f:if condition="{cartProduct.variants}">
                            <f:then>
                                <f:for each="{cartProduct.variants}" as="variant">
                                    <div class="cart_product">
                                        <div class="cart_minicart_col cart_minicart_col_title">
                                            {cartProduct.title} ({variant.title})
                                        </div>
                                        <div class="cart_minicart_col cart_minicart_col_qty cart_center">
                                            {variant.qty}
                                        </div>
                                        <div class="cart_minicart_col cart_minicart_col_total cart_right">
                                            <cart:format.currency>{variant.gross}</cart:format.currency>
                                        </div>
                                        <div class="cart_cleaner"><!-- --></div>
                                    </div>
                                </f:for>
                            </f:then>
                            <f:else>
                                <div class="cart_product">
                                    <div class="cart_minicart_col cart_minicart_col_title">
                                        {cartProduct.title}
                                    </div>
                                    <div class="cart_minicart_col cart_minicart_col_qty cart_center">
                                        {cartProduct.qty}
                                    </div>
                                    <div class="cart_minicart_col cart_minicart_col_total cart_right">
                                        <cart:format.currency>{cartProduct.gross}</cart:format.currency>
                                    </div>
                                    <div class="cart_cleaner"><!-- --></div>
                                </div>
                            </f:else>
                        </f:if>
                    </f:for>
                </div>

                <div class="cart_minicart_col cart_foot_col1 cart_gross">
                    <f:translate
                            key="LLL:EXT:cart/Resources/Private/Language/locallang.xlf:\Extcode\Cart\Domain\Model\product.cart_gross"/>
                </div>
                <div class="cart_minicart_col cart_foot_col2 cart_gross">
                    <cart:format.currency>{cart.gross}</cart:format.currency>
                </div>
                <div class="cart_cleaner"><!-- --></div>

                <f:link.page pageUid="{settings.cart.pid}">
                    <f:translate key="tx_cart.plugin.mini_cart.go_to_checkout"/>
                </f:link.page>
            </f:then>
            <f:else>
                <f:translate key="tx_cart.plugin.mini_cart.empty_cart"/>
            </f:else>
        </f:if>
    </div>
</f:section>