<f:layout name="Default"/>

<f:section name="main">
    <f:flashMessages renderMode="div" />
    <f:form.validationResults for="orderItem">
        <f:if condition="{validationResults.flattenedErrors}">
            <div class="error">
                <f:for each="{validationResults.flattenedErrors}" key="propertyPath" as="errors">{propertyPath}: <f:for each="{errors}" as="error">{error}</f:for></f:for>
            </div>
        </f:if>
    </f:form.validationResults>

    <div class="small-12 medium-12 large-12 form-columns">
        <f:if condition="{cart.products}">
            <f:then>
                <f:render partial="Cart/CartForm" arguments="{cart:cart}"/>

                <f:render partial="Cart/CouponForm" arguments="{cart:cart}"/>

                <f:render partial="Cart/OrderForm" arguments="{
                    cart:cart,
                    orderItem:orderItem,
                    billingAddress:billingAddress,
                    shippingAddress:shippingAddress,
                    shippings:shippings,
                    payments:payments}"
                />
            </f:then>
            <f:else>
                <f:render partial="Cart/Empty"/>
            </f:else>
        </f:if>
    </div>
</f:section>