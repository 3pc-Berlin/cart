<f:layout name="Default"/>

<f:section name="main">
    <div id="tx-cart-minicart">
        <f:if condition="{cart.products}">
            <f:then>
                <div class="cart_product_list">
                    <f:for each="{cart.products}" as="product">
                        <f:if condition="{product.variants}">
                            <f:then>
                                <f:for each="{product.variants}" as="variant">
                                    <div class="cart_product">
                                        <div class="cart_minicart_col cart_minicart_col_title">
                                            {cartProduct.title} ({variant.title})
                                        </div>
                                        <div class="cart_minicart_col cart_minicart_col_qty cart_center">
                                            {variant.qty}
                                        </div>
                                        <div class="cart_minicart_col cart_minicart_col_total cart_right">
                                            <f:format.currency currencySign="{settings.format.currency.currencySign}"
                                                               decimalSeparator="{settings.format.currency.decimalSeparator}"
                                                               thousandsSeparator="{settings.format.currency.thousandsSeparator}"
                                                               prependCurrency="{settings.format.currency.prependCurrency}"
                                                               separateCurrency="{settings.format.currency.separateCurrency}"
                                                               decimals="{settings.format.currency.decimals}">{variant.gross}</f:format.currency>
                                        </div>
                                        <div class="cart_cleaner"><!-- --></div>
                                    </div>
                                </f:for>
                            </f:then>
                            <f:else>
                                <div class="cart_product">
                                    <div class="cart_minicart_col cart_minicart_col_title">
                                        {cartProduct.title}
                                    </div>
                                    <div class="cart_minicart_col cart_minicart_col_qty cart_center">
                                        {cartProduct.qty}
                                    </div>
                                    <div class="cart_minicart_col cart_minicart_col_total cart_right">
                                        <f:format.currency currencySign="{settings.format.currency.currencySign}"
                                                           decimalSeparator="{settings.format.currency.decimalSeparator}"
                                                           thousandsSeparator="{settings.format.currency.thousandsSeparator}"
                                                           prependCurrency="{settings.format.currency.prependCurrency}"
                                                           separateCurrency="{settings.format.currency.separateCurrency}"
                                                           decimals="{settings.format.currency.decimals}">{cartProduct.gross}</f:format.currency>
                                    </div>
                                    <div class="cart_cleaner"><!-- --></div>
                                </div>
                            </f:else>
                        </f:if>
                    </f:for>
                </div>

                <div class="cart_minicart_col cart_foot_col1 cart_gross">
                    <f:translate
                            key="LLL:EXT:cart/Resources/Private/Language/locallang.xlf:\Extcode\Cart\Domain\Model\product.cart_gross"/>
                </div>
                <div class="cart_minicart_col cart_foot_col2 cart_gross">
                    <f:format.currency currencySign="{settings.format.currency.currencySign}"
                                       decimalSeparator="{settings.format.currency.decimalSeparator}"
                                       thousandsSeparator="{settings.format.currency.thousandsSeparator}"
                                       prependCurrency="{settings.format.currency.prependCurrency}"
                                       separateCurrency="{settings.format.currency.separateCurrency}"
                                       decimals="{settings.format.currency.decimals}">{cart.gross}</f:format.currency>
                </div>
                <div class="cart_cleaner"><!-- --></div>

                <f:link.page pageUid="{settings.cart.pid}">
                    <f:translate key="tx_cart.plugin.mini_cart.go_to_checkout"/>
                </f:link.page>
            </f:then>
            <f:else>
                <f:render partial="Cart/Empty"/>
            </f:else>
        </f:if>
    </div>
</f:section>