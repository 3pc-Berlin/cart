{namespace cart=Extcode\Cart\ViewHelpers}

<f:for each="{products}" as="product">
    <tr class="{f:if(condition: cartProduct.quantityIsInRange, then: '', else: 'danger')}">
        <td>
            <div class="product-name">{cartProduct.title}</div>
            <p>
                <f:translate key="tx_cart_domain_model_order_product.sku.short"/>
                : {cartProduct.sku}
            </p>
            <p>
                <f:link.action action="removeProduct" arguments="{cartProduct: cartProduct.id}">
                    <f:translate key="tx_cart.remove_product"/>
                </f:link.action>
            </p>
        </td>
        <td class="text-right">
            <f:if condition="{cartProduct.beVariants}">
                <f:then>
                    <span class="price">&nbsp;</span>
                </f:then>
                <f:else>
                    <cart:format.currency>{cartProduct.price}</cart:format.currency>
                </f:else>
            </f:if>
        </td>
        <td class="a-center">
            <div class="qty-wrapper">
                {cartProduct.quantity}
            </div>
        </td>
        <td class="last text-right">
            <f:if condition="{cartProduct.quantityIsInRange}">
                <f:then>
                    <cart:format.currency>{cartProduct.gross}</cart:format.currency>
                </f:then>
            </f:if>
        </td>
    </tr>
    <f:render partial="Cart/ProductVariantList" arguments="{cartProduct:product}"/>
</f:for>

